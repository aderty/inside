<div class="background light"></div>
<div class="container-fluid" id="mainActivite" ng-controller="ActiviteMain">
    <div class="row-fluid">
        <div class="span3">
            <div class="row-fluid">
                <div class="span12 well">
                    <!--Sidebar content-->
                    <div>
                    <span class="titre">Matricule</span> <h4>{{user.id}}</h4>
                        </div>
                    <div>
                    <span class="titre">Collaborateur</span> <h4>{{user.nom}} {{user.prenom}}</h4>
                        </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12 well">
                    <!--Sidebar content-->
                    <span class="titre">Actions</span>
                    <p ui-if="activite.etat <= 1 && !future">
                        <button class="btn btn-large btn-success" type="button" ng-click="save(events)"><i class="icon_upload"></i>Enregistrer mon activité</button>
                    </p>
                    <p>
                        <button class="btn btn-warning" type="button" ng-click="refresh();"><i class="icon-refresh icon-white"></i> Annuler les modifications</button>
                    </p>
                </div>
            </div>
        </div><!-- <div class="span4">-->
        <div class="span9">
            <!--Body content-->
            <div class="row">
                <div class="span8">
                    <div class="alert alert-success" ng-class="{masquer: successOperation == ''}">
                        <button type="button" class="close" ng-click="closeSuccess();">×</button>
                        {{successOperation}}
                    </div>
                    <!--Grilles des congés-->
                    <div class="alert alert-info">
                        <div ui-if="!eventSelectionne">
                            <h4>Aucune journée sélectionnée</h4> {{" "}}
                        </div>
                        <div ui-if="eventSelectionne">
                            <h4>Journée sélectionnée</h4> {{eventSelectionne}}
                        </div>
                    </div>
                </div>
                <!-- <div class="span12">-->
            </div>
            <div class="row">
                <div class="span8">
                    <!--Grilles des congés-->
                        <div id="activiteCalendar" calendar="activiteCalendar" ui-calendar="uiConfig.calendar" config="uiConfig.calendar" ng-model="eventSources" >
                </div>
                <!-- <div class="span12">-->
            </div>
            <!-- <div class="row">-->
        </div>
        <!--<div class="span9">-->
    </div>
    <!--<div class="row-fluid">-->
</div>
<!--<div class="container-fluid">-->

<script type="text/x-handlebars-template" id="eventTmpl">
  <div class="fc-event fc-event-hori fc-event-start fc-event-end jour {{data.type}} {{cssConges[data.etat]}}" ng-class="{true : 'sleeping', false : 'worked'}[data.type != 'JT' && data.type != 'FOR' && data.type != 'INT']"  rel="popover" data-original-title="" title="">
       <div class="fc-event-inner">
           <span class="fc-event-title">{{data.type | motifCongesShort : typeActivite}} {{infos(data)}}</span>
       </div>
  </div>
</script>
<script type="text/x-handlebars-template" id="popoverEventTmpl">
  <h3 class="popover-title">Détails de la journée</h3>
  <accordion close-others="true">
    <accordion-group heading="Activité effectuée" is-open="true">
      <p>Choisisez l'activté effectuée cette journée :</p>
      <select id="inputType" name="inputType" required ng-model="data.type" ng-options="motif.id as motif.libelle for motif in typeActivite | orderBy:-ordre">
      </select>
        <p>Durée :</p>
       <select id="inputDuree" name="inputDuree" required ng-model="data.duree">
           <option value="0">Toute la journée</option>
           <option ng-hide="data.duree == 2" value="1">Matinée</option>
           <option ng-hide="data.duree == 1" value="2">Après-midi</option>
      </select>

    </accordion-group>
    <accordion-group heading="Informations complémentaires">
      <p>Remarques...</p>
        <textarea id="inputInfos" name="inputInfos" ng-model="data.information"></textarea>
    </accordion-group>
  </accordion>
  <div class="modal-footer">
    <button class="btn btn-primary" ng-click="valid(currentEvent);" >Valider</button>
    <button class="btn" ng-click="cancel();">Annuler</button>
  </div>
</script>

